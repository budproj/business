#!/bin/bash

token_morty="Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Im91OW9Rd0FneFdyYy11LUs3akpjMSJ9.eyJodHRwczovL2FwaS5kZXZlbG9wLmdldGJ1ZC5jby9yb2xlcyI6WyJMZWFkZXIiLCJTcXVhZCBNZW1iZXIiXSwiaXNzIjoiaHR0cHM6Ly9nZXRidWQtZGV2ZWxvcC51cy5hdXRoMC5jb20vIiwic3ViIjoiYXV0aDB8NWZkNzczY2ZkMTZhN2MwMDY5NGFlNWZmIiwiYXVkIjpbImh0dHBzOi8vYXBpLmRldmVsb3AuZ2V0YnVkLmNvL2J1c2luZXNzIiwiaHR0cHM6Ly9nZXRidWQtZGV2ZWxvcC51cy5hdXRoMC5jb20vdXNlcmluZm8iXSwiaWF0IjoxNjIzNjc5MjU3LCJleHAiOjE2MjM3NjU2NTcsImF6cCI6IlIxZGtrQ3c4cmRTdDVDWDFQbXJVUzdQdXRLdWZONWpkIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInBlcm1pc3Npb25zIjpbImN5Y2xlOmNyZWF0ZTpjb21wYW55IiwiY3ljbGU6Y3JlYXRlOnRlYW0iLCJjeWNsZTpkZWxldGU6Y29tcGFueSIsImN5Y2xlOmRlbGV0ZTp0ZWFtIiwiY3ljbGU6cmVhZDpjb21wYW55IiwiY3ljbGU6cmVhZDp0ZWFtIiwiY3ljbGU6dXBkYXRlOmNvbXBhbnkiLCJjeWNsZTp1cGRhdGU6dGVhbSIsImtleS1yZXN1bHQtY2hlY2staW46Y3JlYXRlOmNvbXBhbnkiLCJrZXktcmVzdWx0LWNoZWNrLWluOmNyZWF0ZTpvd25zIiwia2V5LXJlc3VsdC1jaGVjay1pbjpjcmVhdGU6dGVhbSIsImtleS1yZXN1bHQtY2hlY2staW46ZGVsZXRlOmNvbXBhbnkiLCJrZXktcmVzdWx0LWNoZWNrLWluOmRlbGV0ZTpvd25zIiwia2V5LXJlc3VsdC1jaGVjay1pbjpkZWxldGU6dGVhbSIsImtleS1yZXN1bHQtY2hlY2staW46cmVhZDpjb21wYW55Iiwia2V5LXJlc3VsdC1jaGVjay1pbjpyZWFkOm93bnMiLCJrZXktcmVzdWx0LWNoZWNrLWluOnJlYWQ6dGVhbSIsImtleS1yZXN1bHQtY2hlY2staW46dXBkYXRlOmNvbXBhbnkiLCJrZXktcmVzdWx0LWNoZWNrLWluOnVwZGF0ZTpvd25zIiwia2V5LXJlc3VsdC1jaGVjay1pbjp1cGRhdGU6dGVhbSIsImtleS1yZXN1bHQtY29tbWVudDpjcmVhdGU6Y29tcGFueSIsImtleS1yZXN1bHQtY29tbWVudDpjcmVhdGU6b3ducyIsImtleS1yZXN1bHQtY29tbWVudDpjcmVhdGU6dGVhbSIsImtleS1yZXN1bHQtY29tbWVudDpkZWxldGU6Y29tcGFueSIsImtleS1yZXN1bHQtY29tbWVudDpkZWxldGU6b3ducyIsImtleS1yZXN1bHQtY29tbWVudDpkZWxldGU6dGVhbSIsImtleS1yZXN1bHQtY29tbWVudDpyZWFkOmNvbXBhbnkiLCJrZXktcmVzdWx0LWNvbW1lbnQ6cmVhZDpvd25zIiwia2V5LXJlc3VsdC1jb21tZW50OnJlYWQ6dGVhbSIsImtleS1yZXN1bHQtY29tbWVudDp1cGRhdGU6Y29tcGFueSIsImtleS1yZXN1bHQtY29tbWVudDp1cGRhdGU6b3ducyIsImtleS1yZXN1bHQtY29tbWVudDp1cGRhdGU6dGVhbSIsImtleS1yZXN1bHQ6Y3JlYXRlOmNvbXBhbnkiLCJrZXktcmVzdWx0OmNyZWF0ZTpvd25zIiwia2V5LXJlc3VsdDpjcmVhdGU6dGVhbSIsImtleS1yZXN1bHQtY3VzdG9tLWxpc3Q6Y3JlYXRlOm93bnMiLCJrZXktcmVzdWx0LWN1c3RvbS1saXN0OmRlbGV0ZTpvd25zIiwia2V5LXJlc3VsdC1jdXN0b20tbGlzdDpyZWFkOm93bnMiLCJrZXktcmVzdWx0LWN1c3RvbS1saXN0OnVwZGF0ZTpvd25zIiwia2V5LXJlc3VsdDpkZWxldGU6Y29tcGFueSIsImtleS1yZXN1bHQ6ZGVsZXRlOm93bnMiLCJrZXktcmVzdWx0OmRlbGV0ZTp0ZWFtIiwia2V5LXJlc3VsdDpyZWFkOmNvbXBhbnkiLCJrZXktcmVzdWx0OnJlYWQ6b3ducyIsImtleS1yZXN1bHQ6cmVhZDp0ZWFtIiwia2V5LXJlc3VsdDp1cGRhdGU6Y29tcGFueSIsImtleS1yZXN1bHQ6dXBkYXRlOm93bnMiLCJrZXktcmVzdWx0OnVwZGF0ZTp0ZWFtIiwib2JqZWN0aXZlOmNyZWF0ZTpjb21wYW55Iiwib2JqZWN0aXZlOmNyZWF0ZTpvd25zIiwib2JqZWN0aXZlOmNyZWF0ZTp0ZWFtIiwib2JqZWN0aXZlOmRlbGV0ZTpjb21wYW55Iiwib2JqZWN0aXZlOmRlbGV0ZTpvd25zIiwib2JqZWN0aXZlOmRlbGV0ZTp0ZWFtIiwib2JqZWN0aXZlOnJlYWQ6Y29tcGFueSIsIm9iamVjdGl2ZTpyZWFkOm93bnMiLCJvYmplY3RpdmU6cmVhZDp0ZWFtIiwib2JqZWN0aXZlOnVwZGF0ZTpjb21wYW55Iiwib2JqZWN0aXZlOnVwZGF0ZTpvd25zIiwib2JqZWN0aXZlOnVwZGF0ZTp0ZWFtIiwicGVybWlzc2lvbjpyZWFkOm93bnMiLCJ0ZWFtOmNyZWF0ZTpjb21wYW55IiwidGVhbTpjcmVhdGU6b3ducyIsInRlYW06ZGVsZXRlOm93bnMiLCJ0ZWFtOnJlYWQ6Y29tcGFueSIsInRlYW06cmVhZDpvd25zIiwidGVhbTp1cGRhdGU6Y29tcGFueSIsInRlYW06dXBkYXRlOm93bnMiLCJ1c2VyOmNyZWF0ZTpjb21wYW55IiwidXNlcjpjcmVhdGU6dGVhbSIsInVzZXI6ZGVsZXRlOmNvbXBhbnkiLCJ1c2VyOmRlbGV0ZTpvd25zIiwidXNlcjpkZWxldGU6dGVhbSIsInVzZXI6cmVhZDpjb21wYW55IiwidXNlcjpyZWFkOm93bnMiLCJ1c2VyOnJlYWQ6dGVhbSIsInVzZXI6dXBkYXRlOmNvbXBhbnkiLCJ1c2VyOnVwZGF0ZTpvd25zIiwidXNlcjp1cGRhdGU6dGVhbSJdfQ.L2MRcxHDIhuDZWfCn8FXUX_lZHjovlGOaRjR6Ngu4fRdLt2ZoUAnlKSm-rUrXGAVrfrPJYFSlwEWSiMjwUdJELNoXX1SLcdw0G9mWMfuAER13D7X6NHZhHTvep_o4Tg1ncm6pMEsY7wCs9r42Hs5iqR0ZhmOdIUgemItnJdtvZWyN6vkW6JkRxubW2wO8D6Lwfr8382FB2LAbVx--_ujTi54Xgo5aqm8bBJIdmS_ETzVJtEVgrBhbBorXsaqm12zD-lH10XZV3AnFLrwdWBzojWd08vt3w6ApH0WdKcNRdBZhbgqGPk_lIaUxnOChAoLiqwJ_QYdwNacj3oODgcllA"
token_jerry="Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6Im91OW9Rd0FneFdyYy11LUs3akpjMSJ9.eyJodHRwczovL2FwaS5kZXZlbG9wLmdldGJ1ZC5jby9yb2xlcyI6WyJUZWFtIE1lbWJlciJdLCJpc3MiOiJodHRwczovL2dldGJ1ZC1kZXZlbG9wLnVzLmF1dGgwLmNvbS8iLCJzdWIiOiJhdXRoMHw2MDBiMmIyYWRmN2I1YTAwNzE4ZDhhYTgiLCJhdWQiOlsiaHR0cHM6Ly9hcGkuZGV2ZWxvcC5nZXRidWQuY28vYnVzaW5lc3MiLCJodHRwczovL2dldGJ1ZC1kZXZlbG9wLnVzLmF1dGgwLmNvbS91c2VyaW5mbyJdLCJpYXQiOjE2MjM2NzkzNDksImV4cCI6MTYyMzc2NTc0OSwiYXpwIjoiUjFka2tDdzhyZFN0NUNYMVBtclVTN1B1dEt1Zk41amQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwicGVybWlzc2lvbnMiOlsiY3ljbGU6cmVhZDpjb21wYW55IiwiY3ljbGU6cmVhZDp0ZWFtIiwia2V5LXJlc3VsdC1jaGVjay1pbjpjcmVhdGU6b3ducyIsImtleS1yZXN1bHQtY2hlY2staW46ZGVsZXRlOm93bnMiLCJrZXktcmVzdWx0LWNoZWNrLWluOnJlYWQ6Y29tcGFueSIsImtleS1yZXN1bHQtY2hlY2staW46cmVhZDpvd25zIiwia2V5LXJlc3VsdC1jaGVjay1pbjpyZWFkOnRlYW0iLCJrZXktcmVzdWx0LWNvbW1lbnQ6Y3JlYXRlOmNvbXBhbnkiLCJrZXktcmVzdWx0LWNvbW1lbnQ6Y3JlYXRlOm93bnMiLCJrZXktcmVzdWx0LWNvbW1lbnQ6Y3JlYXRlOnRlYW0iLCJrZXktcmVzdWx0LWNvbW1lbnQ6ZGVsZXRlOm93bnMiLCJrZXktcmVzdWx0LWNvbW1lbnQ6cmVhZDpjb21wYW55Iiwia2V5LXJlc3VsdC1jb21tZW50OnJlYWQ6b3ducyIsImtleS1yZXN1bHQtY29tbWVudDpyZWFkOnRlYW0iLCJrZXktcmVzdWx0LWNvbW1lbnQ6dXBkYXRlOm93bnMiLCJrZXktcmVzdWx0LWN1c3RvbS1saXN0OmNyZWF0ZTpvd25zIiwia2V5LXJlc3VsdC1jdXN0b20tbGlzdDpkZWxldGU6b3ducyIsImtleS1yZXN1bHQtY3VzdG9tLWxpc3Q6cmVhZDpvd25zIiwia2V5LXJlc3VsdC1jdXN0b20tbGlzdDp1cGRhdGU6b3ducyIsImtleS1yZXN1bHQ6cmVhZDpjb21wYW55Iiwia2V5LXJlc3VsdDpyZWFkOm93bnMiLCJrZXktcmVzdWx0OnJlYWQ6dGVhbSIsImtleS1yZXN1bHQ6dXBkYXRlOm93bnMiLCJvYmplY3RpdmU6cmVhZDpjb21wYW55Iiwib2JqZWN0aXZlOnJlYWQ6b3ducyIsIm9iamVjdGl2ZTpyZWFkOnRlYW0iLCJwZXJtaXNzaW9uOnJlYWQ6b3ducyIsInRlYW06cmVhZDpjb21wYW55IiwidGVhbTpyZWFkOm93bnMiLCJ1c2VyOmRlbGV0ZTpvd25zIiwidXNlcjpyZWFkOmNvbXBhbnkiLCJ1c2VyOnJlYWQ6b3ducyIsInVzZXI6cmVhZDp0ZWFtIiwidXNlcjp1cGRhdGU6b3ducyJdfQ.E-t5uyAmkML3B3QZzDy1qCYyw4mm8s8ynit9Is-JlYl6ffJOo6szsS0rG9xPQdN3_CUFvLTgXghg1DxoJAPb1LctpuURy0wK8g60ER9I-qgmH8ACXcXXiTa3tX3mod-vMAUzeXjaajjv_muwMLDFU5zQO4PiXpq9UKMAyPuUijlLEtgZfZXiYkqnUUPvSfcDvZSbs0o7qtTnO8w5ZoKyTPnlaEcRB-PDonRF0mhQYykbrIenFHZAI9QJrAYGrBEJsA5krpzmw_jz7un8uodUYeIWRcNLrp695HjeUpAlmmrANs9t1ezT8AQDPc_RnS0b90wB4Vbab0lYwQmjE0w3Iw"

function do_request {
  token=$1

  query="query {\n me {\n id\n fullName\n }\n}\n"
  mutation="mutation {\n createKeyResultCheckIn(\n data: {keyResultId: \\\"6e5612e0-86e1-4cfe-9e91-00762d67f892\\\", confidence: 100, value: 100}\n ) {\n id\n user {\n firstName\n }\n }\n}"

  curl -i -H 'Content-Type: application/json' -H "authorization: ${token}" -X POST -d "{\"query\": \"${mutation}\"}" http://localhost:3000/graphql &
}

do_request "$token_morty"
sleep 0.1
do_request "$token_jerry"

wait
